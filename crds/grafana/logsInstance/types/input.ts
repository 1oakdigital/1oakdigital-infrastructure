// *** WARNING: this file was generated by crd2pulumi. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as inputs from "../types/input";
import * as outputs from "../types/output";

import {ObjectMeta} from "../meta/v1";

export namespace monitoring {
    export namespace v1alpha1 {
        /**
         * Spec holds the specification of the desired behavior for the logs instance.
         */
        export interface LogsInstanceSpecArgs {
            /**
             * AdditionalScrapeConfigs allows specifying a key of a Secret containing additional Grafana Agent logging scrape configurations. Scrape configurations specified are appended to the configurations generated by the Grafana Agent Operator. 
             *  Job configurations specified must have the form as specified in the official Promtail documentation: 
             *  https://grafana.com/docs/loki/latest/clients/promtail/configuration/#scrape_configs 
             *  As scrape configs are appended, the user is responsible to make sure it is valid. Note that using this feature may expose the possibility to break upgrades of Grafana Agent. It is advised to review both Grafana Agent and Promtail release notes to ensure that no incompatible scrape configs are going to break Grafana Agent after the upgrade.
             */
            additionalScrapeConfigs?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecAdditionalscrapeconfigsArgs>;
            /**
             * Clients controls where logs are written to for this instance.
             */
            clients?: pulumi.Input<pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsArgs>[]>;
            /**
             * Set of labels to determine which namespaces should be watched for PodLogs. If not provided, checks only namespace of the instance.
             */
            podLogsNamespaceSelector?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecPodlogsnamespaceselectorArgs>;
            /**
             * Determines which PodLogs should be selected for including in this instance.
             */
            podLogsSelector?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecPodlogsselectorArgs>;
            /**
             * Configures how tailed targets are watched.
             */
            targetConfig?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecTargetconfigArgs>;
        }

        /**
         * AdditionalScrapeConfigs allows specifying a key of a Secret containing additional Grafana Agent logging scrape configurations. Scrape configurations specified are appended to the configurations generated by the Grafana Agent Operator. 
         *  Job configurations specified must have the form as specified in the official Promtail documentation: 
         *  https://grafana.com/docs/loki/latest/clients/promtail/configuration/#scrape_configs 
         *  As scrape configs are appended, the user is responsible to make sure it is valid. Note that using this feature may expose the possibility to break upgrades of Grafana Agent. It is advised to review both Grafana Agent and Promtail release notes to ensure that no incompatible scrape configs are going to break Grafana Agent after the upgrade.
         */
        export interface LogsInstanceSpecAdditionalscrapeconfigsArgs {
            /**
             * The key of the secret to select from.  Must be a valid secret key.
             */
            key: pulumi.Input<string>;
            /**
             * Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
             */
            name?: pulumi.Input<string>;
            /**
             * Specify whether the Secret or its key must be defined
             */
            optional?: pulumi.Input<boolean>;
        }

        /**
         * LogsClientSpec defines the client integration for logs, indicating which Loki server to send logs to.
         */
        export interface LogsInstanceSpecClientsArgs {
            /**
             * Configures how to retry requests to Loki when a request fails. Defaults to a minPeriod of 500ms, maxPeriod of 5m, and maxRetries of 10.
             */
            backoffConfig?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsBackoffconfigArgs>;
            /**
             * BasicAuth for the Loki server.
             */
            basicAuth?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsBasicauthArgs>;
            /**
             * Maximum batch size (in bytes) of logs to accumulate before sending the batch to Loki.
             */
            batchSize?: pulumi.Input<number>;
            /**
             * Maximum amount of time to wait before sending a batch, even if that batch isn't full.
             */
            batchWait?: pulumi.Input<string>;
            /**
             * BearerToken used for remote_write.
             */
            bearerToken?: pulumi.Input<string>;
            /**
             * BearerTokenFile used to read bearer token.
             */
            bearerTokenFile?: pulumi.Input<string>;
            /**
             * ExternalLabels are labels to add to any time series when sending data to Loki.
             */
            externalLabels?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
            /**
             * ProxyURL to proxy requests through. Optional.
             */
            proxyUrl?: pulumi.Input<string>;
            /**
             * Tenant ID used by default to push logs to Loki. If omitted assumes remote Loki is running in single-tenant mode or an authentication layer is used to inject an X-Scope-OrgID header.
             */
            tenantId?: pulumi.Input<string>;
            /**
             * Maximum time to wait for a server to respond to a request.
             */
            timeout?: pulumi.Input<string>;
            /**
             * TLSConfig to use for the client. Only used when the protocol of the URL is https.
             */
            tlsConfig?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsTlsconfigArgs>;
            /**
             * URL is the URL where Loki is listening. Must be a full HTTP URL, including protocol. Required. Example: https://logs-prod-us-central1.grafana.net/loki/api/v1/push.
             */
            url: pulumi.Input<string>;
        }

        /**
         * Configures how to retry requests to Loki when a request fails. Defaults to a minPeriod of 500ms, maxPeriod of 5m, and maxRetries of 10.
         */
        export interface LogsInstanceSpecClientsBackoffconfigArgs {
            /**
             * Maximum backoff time between retries.
             */
            maxPeriod?: pulumi.Input<string>;
            /**
             * Maximum number of retries to perform before giving up a request.
             */
            maxRetries?: pulumi.Input<number>;
            /**
             * Initial backoff time between retries. Time between retries is increased exponentially.
             */
            minPeriod?: pulumi.Input<string>;
        }

        /**
         * BasicAuth for the Loki server.
         */
        export interface LogsInstanceSpecClientsBasicauthArgs {
            /**
             * The secret in the service monitor namespace that contains the password for authentication.
             */
            password?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsBasicauthPasswordArgs>;
            /**
             * The secret in the service monitor namespace that contains the username for authentication.
             */
            username?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsBasicauthUsernameArgs>;
        }

        /**
         * The secret in the service monitor namespace that contains the password for authentication.
         */
        export interface LogsInstanceSpecClientsBasicauthPasswordArgs {
            /**
             * The key of the secret to select from.  Must be a valid secret key.
             */
            key: pulumi.Input<string>;
            /**
             * Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
             */
            name?: pulumi.Input<string>;
            /**
             * Specify whether the Secret or its key must be defined
             */
            optional?: pulumi.Input<boolean>;
        }

        /**
         * The secret in the service monitor namespace that contains the username for authentication.
         */
        export interface LogsInstanceSpecClientsBasicauthUsernameArgs {
            /**
             * The key of the secret to select from.  Must be a valid secret key.
             */
            key: pulumi.Input<string>;
            /**
             * Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
             */
            name?: pulumi.Input<string>;
            /**
             * Specify whether the Secret or its key must be defined
             */
            optional?: pulumi.Input<boolean>;
        }

        /**
         * TLSConfig to use for the client. Only used when the protocol of the URL is https.
         */
        export interface LogsInstanceSpecClientsTlsconfigArgs {
            /**
             * Struct containing the CA cert to use for the targets.
             */
            ca?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsTlsconfigCaArgs>;
            /**
             * Path to the CA cert in the Prometheus container to use for the targets.
             */
            caFile?: pulumi.Input<string>;
            /**
             * Struct containing the client cert file for the targets.
             */
            cert?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsTlsconfigCertArgs>;
            /**
             * Path to the client cert file in the Prometheus container for the targets.
             */
            certFile?: pulumi.Input<string>;
            /**
             * Disable target certificate validation.
             */
            insecureSkipVerify?: pulumi.Input<boolean>;
            /**
             * Path to the client key file in the Prometheus container for the targets.
             */
            keyFile?: pulumi.Input<string>;
            /**
             * Secret containing the client key file for the targets.
             */
            keySecret?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsTlsconfigKeysecretArgs>;
            /**
             * Used to verify the hostname for the targets.
             */
            serverName?: pulumi.Input<string>;
        }

        /**
         * Struct containing the CA cert to use for the targets.
         */
        export interface LogsInstanceSpecClientsTlsconfigCaArgs {
            /**
             * ConfigMap containing data to use for the targets.
             */
            configMap?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsTlsconfigCaConfigmapArgs>;
            /**
             * Secret containing data to use for the targets.
             */
            secret?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsTlsconfigCaSecretArgs>;
        }

        /**
         * ConfigMap containing data to use for the targets.
         */
        export interface LogsInstanceSpecClientsTlsconfigCaConfigmapArgs {
            /**
             * The key to select.
             */
            key: pulumi.Input<string>;
            /**
             * Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
             */
            name?: pulumi.Input<string>;
            /**
             * Specify whether the ConfigMap or its key must be defined
             */
            optional?: pulumi.Input<boolean>;
        }

        /**
         * Secret containing data to use for the targets.
         */
        export interface LogsInstanceSpecClientsTlsconfigCaSecretArgs {
            /**
             * The key of the secret to select from.  Must be a valid secret key.
             */
            key: pulumi.Input<string>;
            /**
             * Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
             */
            name?: pulumi.Input<string>;
            /**
             * Specify whether the Secret or its key must be defined
             */
            optional?: pulumi.Input<boolean>;
        }

        /**
         * Struct containing the client cert file for the targets.
         */
        export interface LogsInstanceSpecClientsTlsconfigCertArgs {
            /**
             * ConfigMap containing data to use for the targets.
             */
            configMap?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsTlsconfigCertConfigmapArgs>;
            /**
             * Secret containing data to use for the targets.
             */
            secret?: pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecClientsTlsconfigCertSecretArgs>;
        }

        /**
         * ConfigMap containing data to use for the targets.
         */
        export interface LogsInstanceSpecClientsTlsconfigCertConfigmapArgs {
            /**
             * The key to select.
             */
            key: pulumi.Input<string>;
            /**
             * Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
             */
            name?: pulumi.Input<string>;
            /**
             * Specify whether the ConfigMap or its key must be defined
             */
            optional?: pulumi.Input<boolean>;
        }

        /**
         * Secret containing data to use for the targets.
         */
        export interface LogsInstanceSpecClientsTlsconfigCertSecretArgs {
            /**
             * The key of the secret to select from.  Must be a valid secret key.
             */
            key: pulumi.Input<string>;
            /**
             * Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
             */
            name?: pulumi.Input<string>;
            /**
             * Specify whether the Secret or its key must be defined
             */
            optional?: pulumi.Input<boolean>;
        }

        /**
         * Secret containing the client key file for the targets.
         */
        export interface LogsInstanceSpecClientsTlsconfigKeysecretArgs {
            /**
             * The key of the secret to select from.  Must be a valid secret key.
             */
            key: pulumi.Input<string>;
            /**
             * Name of the referent. More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names TODO: Add other useful fields. apiVersion, kind, uid?
             */
            name?: pulumi.Input<string>;
            /**
             * Specify whether the Secret or its key must be defined
             */
            optional?: pulumi.Input<boolean>;
        }

        /**
         * Set of labels to determine which namespaces should be watched for PodLogs. If not provided, checks only namespace of the instance.
         */
        export interface LogsInstanceSpecPodlogsnamespaceselectorArgs {
            /**
             * matchExpressions is a list of label selector requirements. The requirements are ANDed.
             */
            matchExpressions?: pulumi.Input<pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecPodlogsnamespaceselectorMatchexpressionsArgs>[]>;
            /**
             * matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
             */
            matchLabels?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
        }

        /**
         * A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.
         */
        export interface LogsInstanceSpecPodlogsnamespaceselectorMatchexpressionsArgs {
            /**
             * key is the label key that the selector applies to.
             */
            key: pulumi.Input<string>;
            /**
             * operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
             */
            operator: pulumi.Input<string>;
            /**
             * values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
             */
            values?: pulumi.Input<pulumi.Input<string>[]>;
        }

        /**
         * Determines which PodLogs should be selected for including in this instance.
         */
        export interface LogsInstanceSpecPodlogsselectorArgs {
            /**
             * matchExpressions is a list of label selector requirements. The requirements are ANDed.
             */
            matchExpressions?: pulumi.Input<pulumi.Input<inputs.monitoring.v1alpha1.LogsInstanceSpecPodlogsselectorMatchexpressionsArgs>[]>;
            /**
             * matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is "key", the operator is "In", and the values array contains only "value". The requirements are ANDed.
             */
            matchLabels?: pulumi.Input<{[key: string]: pulumi.Input<string>}>;
        }

        /**
         * A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.
         */
        export interface LogsInstanceSpecPodlogsselectorMatchexpressionsArgs {
            /**
             * key is the label key that the selector applies to.
             */
            key: pulumi.Input<string>;
            /**
             * operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.
             */
            operator: pulumi.Input<string>;
            /**
             * values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.
             */
            values?: pulumi.Input<pulumi.Input<string>[]>;
        }

        /**
         * Configures how tailed targets are watched.
         */
        export interface LogsInstanceSpecTargetconfigArgs {
            /**
             * Period to resync directories being watched and files being tailed to discover new ones or stop watching removed ones.
             */
            syncPeriod?: pulumi.Input<string>;
        }
    }
}
